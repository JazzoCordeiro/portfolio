<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <header class="header">
        <div id="header-placeholder"></div>
        <script> fetch('../header-pt2.html').then(response => response.text()).then(data => {
                document.getElementById('header-placeholder').innerHTML = data; initializeThemeSwitcher(); // Chama a função para inicializar o botão de modo
            }); function initializeThemeSwitcher() {
                let trilho = document.getElementById('trilho'); if (!trilho) { console.error('Elemento "trilho" não encontrado'); return; } let body = document.querySelector('body'); let header = document.querySelector('.header'); let tooltips = document.querySelectorAll('.tooltip'); // Verificar se o modo claro foi salvo no localStorage e aplicá-lo
                if (localStorage.getItem('theme') === 'light') { body.classList.add('light'); header.classList.add('light'); trilho.classList.add('light'); tooltips.forEach(function (tooltip) { tooltip.classList.add('light'); }); } // Alterna entre o modo normal e o modo claro
                trilho.addEventListener('click', function () {
                    trilho.classList.toggle('light'); body.classList.toggle('light'); header.classList.toggle('light'); tooltips.forEach(function (tooltip) { tooltip.classList.toggle('light'); }); // Salva a preferência no localStorage (modo claro ou normal)
                    if (body.classList.contains('light')) { localStorage.setItem('theme', 'light'); } else { localStorage.removeItem('theme'); }
                });
            } </script>
    </header>
    <main>

        <h1 class="titulo">O que é o Fetch em JavaScript?</h1>
        <p class="comum">A função <code>fetch</code> em JavaScript é usada para fazer requisições HTTP assíncronas. Ela permite que você recupere recursos da web, como dados de fontes externas, arquivos e outros serviços, sem precisar recarregar a página. A função <code>fetch</code> é baseada em promessas, o que significa que ela permite lidar com código assíncrono de maneira mais legível e compreensível, em comparação com o uso de callbacks ou o antigo <code>XMLHttpRequest</code>.</p>
        <p class="comum">Um dos casos de uso mais comuns para o <code>fetch</code> é consumir APIs. APIs (Interfaces de Programação de Aplicações) são a espinha dorsal das aplicações web modernas, permitindo que uma aplicação interaja com outra. Ao consumir uma API, você pode usar o <code>fetch</code> para enviar requisições e receber respostas, tipicamente em formatos como JSON.</p>

        <h2 class="subtitulo">Importância do Fetch:</h2>
        <ul class="lista">
            <li class="especifico"><strong>Requisições Assíncronas:</strong> O <code>fetch</code> permite fazer requisições assíncronas, ou seja, seu código não ficará bloqueado enquanto espera pela resposta do servidor. Isso melhora a experiência do usuário, tornando a interface mais rápida e interativa.</li>
            <li class="especifico"><strong>Interação com APIs:</strong> Usando o <code>fetch</code>, você pode recuperar dados de fontes externas, como bancos de dados ou APIs REST, o que é crucial nas aplicações web modernas.</li>
            <li class="especifico"><strong>Baseado em Promessas:</strong> O <code>fetch</code> retorna uma promessa, tornando o tratamento das respostas assíncronas mais limpo e moderno.</li>
            <li class="especifico"><strong>Melhor que o XMLHttpRequest:</strong> O <code>fetch</code> é uma maneira mais moderna e simplificada de fazer requisições em comparação com o antigo <code>XMLHttpRequest</code> (XHR), oferecendo um código mais limpo e com menos redundâncias.</li>
        </ul>
    
        <h2 class="subtitulo">Como Usar o Fetch:</h2>
        <h3 class="subtitulo">Exemplo Básico de Requisição GET:</h3>
        <pre><code>
    fetch('https://api.exemplo.com/dados')  // URL da API
      .then(response => {
        if (!response.ok) {
          throw new Error('A resposta da rede não foi ok');
        }
        return response.json();  // Converte a resposta para JSON
      })
      .then(data => console.log(data))  // Lida com os dados recebidos
      .catch(error => console.error('Houve um problema com a operação fetch:', error));
        </code></pre>
    
        <h3 class="subtitulo">Exemplo de Requisição POST:</h3>
        <pre><code>
    const dados = { usuario: 'exemplo', senha: 'senha123' };
    
    fetch('https://api.exemplo.com/login', {
      method: 'POST',  // Define o método HTTP como POST
      headers: {
        'Content-Type': 'application/json',  // Define o tipo de conteúdo como JSON
      },
      body: JSON.stringify(dados),  // Envia os dados como uma string JSON
    })
      .then(response => response.json())  // Converte a resposta para JSON
      .then(data => console.log('Sucesso:', data))  // Lida com os dados recebidos
      .catch((error) => console.error('Erro:', error));
        </code></pre>
    
        <h2 class="subtitulo">Por que Usar o Fetch?</h2>
        <ul class="lista">
            <li class="especifico"><strong>Facilidade de Uso:</strong> O <code>fetch</code> fornece uma API simples para fazer requisições, com suporte a promessas e async/await, facilitando o trabalho com código assíncrono.</li>
            <li class="especifico"><strong>Melhor Leitura de Código:</strong> Com o <code>fetch</code>, o código é mais limpo e compreensível, especialmente em comparação com o uso do <code>XMLHttpRequest</code>.</li>
            <li class="especifico"><strong>Suporte a Promessas e async/await:</strong> Como o <code>fetch</code> é baseado em promessas, o tratamento de respostas assíncronas se torna muito mais simples e moderno.</li>
            <li class="especifico"><strong>Requisições Mais Rápidas e Seguras:</strong> O <code>fetch</code> permite fazer requisições de maneira mais rápida e segura (por exemplo, com suporte a CORS – Compartilhamento de Recursos entre Origens).</li>
        </ul>
    
        <h2 class="subtitulo">Conclusão:</h2>
        <p class="comum">A função <code>fetch</code> é uma ferramenta essencial no JavaScript moderno para fazer requisições HTTP assíncronas. Ela simplifica as requisições a recursos externos, melhora a legibilidade do código e é amplamente usada para interagir com APIs e outros recursos. Sua importância no desenvolvimento moderno é clara, pois oferece uma maneira simples e limpa de lidar com requisições e respostas, sem depender de técnicas antigas como o <code>XMLHttpRequest</code>.</p>

    </main>
    <footer class="footer">
    
        <div id="footer-placeholder"></div>
        <script src="main.js"></script>
        <script>
            fetch('../footer.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('footer-placeholder').innerHTML = data;
                });
        </script>
    </footer>
</body>

</html>
